{"version":3,"sources":["hooks/useTypingGame.js","App.js","index.js"],"names":["useTypingGame","startingTime","useState","text","setText","timeRemaining","setTimeRemaining","isTimeRunning","setIsTimeRunning","wordCount","setWordCount","wordsPerMinute","setWordsPerMinute","relativeSpeed","setRelativeSpeed","textBoxRef","useRef","handleChange","event","value","target","calculateWordCount","trim","split","filter","word","length","calculateTypingSpeed","calculateRelativeSpeed","number","colorify","color","style","startGame","current","disabled","focus","endGame","newWordCount","newTypingSpeed","useEffect","setTimeout","time","App","ref","onChange","onClick","ReactDOM","render","document","getElementById"],"mappings":"iKA6JeA,MA1Jf,WAA2C,IAApBC,EAAmB,uDAAJ,GAGlC,EAAwBC,mBAAS,IAAjC,mBAAOC,EAAP,KAAaC,EAAb,KACA,EAA0CF,mBAASD,GAAnD,mBAAOI,EAAP,KAAsBC,EAAtB,KAGA,EAA0CJ,oBAAS,GAAnD,mBAAOK,EAAP,KAAsBC,EAAtB,KAEA,EAAkCN,mBAAS,GAA3C,mBAAOO,EAAP,KAAkBC,EAAlB,KAGA,EAA4CR,mBAAS,GAArD,mBAAOS,EAAP,KAAuBC,EAAvB,KACA,EAA0CV,mBAAS,IAAnD,mBAAOW,EAAP,KAAsBC,EAAtB,KAIMC,EAAaC,iBAAO,MAE1B,SAASC,EAAaC,GAElB,IAAOC,EAASD,EAAME,OAAfD,MACPf,EAAQe,GAGZ,SAASE,EAAmBlB,GAMxB,OAJiBA,EAAKmB,OAAOC,MAAM,KAELC,QAAO,SAAAC,GAAI,MAAa,KAATA,KAEzBC,OAIxB,SAASC,EAAqBlB,EAAWR,GAErC,OAAOQ,GADc,GAAKR,GAI9B,SAAS2B,EAAuBC,GAC5B,OAAIA,EAAS,GACF,OAEFA,EAAS,GACP,MAEFA,EAAS,GACP,SAEFA,EAAS,IACP,OAGA,MAIf,SAASC,EAASjB,GACd,IAAIV,EAAO,GACP4B,EAAQ,GA2BZ,MAzBsB,SAAlBlB,GACAV,EAAO,OACP4B,EAAQ,CAACA,MAAO,QAGO,QAAlBlB,GACLV,EAAO,UACP4B,EAAQ,CAACA,MAAO,WAGO,WAAlBlB,GACLV,EAAO,SACP4B,EAAQ,CAACA,MAAO,WAGO,SAAlBlB,GACLV,EAAO,OACP4B,EAAQ,CAACA,MAAO,mBAGO,QAAlBlB,IACLV,EAAO,MACP4B,EAAQ,CAACA,MAAO,WAIhB,oBAAIC,MAAOD,EAAX,SAAmB5B,IAI3B,SAAS8B,IACLzB,GAAiB,GACjBF,EAAiBL,GAEjBG,EAAQ,IACRM,EAAa,GACbE,EAAkB,GAClBE,EAAiB,IAGjBC,EAAWmB,QAAQC,UAAW,EAC9BpB,EAAWmB,QAAQE,QAGvB,SAASC,IACL,IAAMC,EAAejB,EAAmBlB,GAClCoC,EAAiBZ,EAAqBW,EAAcrC,GAG1DS,EAAa4B,GACb1B,EAAkB2B,GAClBzB,EAAiBc,EAAuBW,IAGxC/B,GAAiB,GAuBrB,OAlBAgC,qBAAU,WAEFjC,GAAiBF,EAAgB,EAEjCoC,YAAW,WACPnC,GAAiB,SAAAoC,GAAI,OAAIA,EAAO,OACjC,KAIoB,IAAlBrC,GACLgC,MAGL,CAAChC,EAAeE,IAIZ,CACHQ,aACAE,eACAd,OACAI,gBACAF,gBACA4B,YACAtB,iBACAF,YACAqB,WACAjB,kBC9GO8B,MAvCf,WAGI,MAWI3C,IAVAe,EADJ,EACIA,WACAE,EAFJ,EAEIA,aACAd,EAHJ,EAGIA,KACAI,EAJJ,EAIIA,cACAF,EALJ,EAKIA,cACA4B,EANJ,EAMIA,UACAtB,EAPJ,EAOIA,eACAF,EARJ,EAQIA,UACAqB,EATJ,EASIA,SACAjB,EAVJ,EAUIA,cAMJ,OACI,qCACI,6CACA,0BACI+B,IAAK7B,EACL8B,SAAU5B,EACVE,MAAOhB,EACPgC,UAAW5B,IAEf,kDAAqBF,KACrB,wBACIyC,QAASb,EACTE,SAAU5B,EAFd,mBAGA,yCAAYI,EAAZ,UACA,8CAAiBF,KAChBqB,EAASjB,OChCtBkC,IAASC,OAAO,cAAC,EAAD,IAAQC,SAASC,eAAe,W","file":"static/js/main.85f5dd6c.chunk.js","sourcesContent":["import {useState, useEffect, useRef} from \"react\"\n\n//custom hook defined with default param of value 15 (seconds)\nfunction useTypingGame(startingTime = 15) {\n\n    //creating states to hold text and time displayed on countdown timer\n    const [text, setText] = useState(\"\")\n    const [timeRemaining, setTimeRemaining] = useState(startingTime)\n\n    //storing isTimeRunning as a boolean state variable (false by default) to fire timer upon START button click\n    const [isTimeRunning, setIsTimeRunning] = useState(false)\n    //storing wordCount as separate state to text (to store for indiv. games vs realtime tracking)\n    const [wordCount, setWordCount] = useState(0)\n\n    //secondary calculations based on wordCount\n    const [wordsPerMinute, setWordsPerMinute] = useState(0)\n    const [relativeSpeed, setRelativeSpeed] = useState(\"\")\n\n    //grabbing reference to textarea dom element in order to be auto-focused in upon START btn click\n    //standard practice to initialise useRef passing in null.\n    const textBoxRef = useRef(null)\n\n    function handleChange(event) {\n        //destructuring event.target.value to grab input when event is fired:\n        const {value} = event.target\n        setText(value)\n    }\n\n    function calculateWordCount(text) {\n        //trim the string of any redundant spaces each side,\n        const wordsArr = text.trim().split(\" \")\n        //preventing spaces between words to count as a word,\n        const spaceRemoved = wordsArr.filter(word => word !== \"\")\n        //returning the filtered array of words:\n        return spaceRemoved.length\n    }\n\n    //determining the multiplier for the words per minute calculation\n    function calculateTypingSpeed(wordCount, startingTime) {\n        const secondsToMin = 60 / startingTime\n        return wordCount * secondsToMin\n    }\n\n    function calculateRelativeSpeed(number) {\n        if (number < 45) {\n            return \"slow\"\n        }\n        else if (number < 60) {\n            return \"avg\"\n        }\n        else if (number < 80) {\n            return \"fluent\"\n        }\n        else if (number < 100) {\n            return \"fast\"\n        }\n        else {\n            return \"pro\"\n        }\n    }\n\n    function colorify(relativeSpeed) {\n        let text = \"\"\n        let color = {}\n\n        if (relativeSpeed === \"slow\") {\n            text = \"SLOW\"\n            color = {color: \"red\"}\n        }\n\n        else if (relativeSpeed === \"avg\") {\n            text = \"AVERAGE\"\n            color = {color: \"orange\"}\n        }\n\n        else if (relativeSpeed === \"fluent\") {\n            text = \"FLUENT\"\n            color = {color: \"yellow\"}\n        }\n\n        else if (relativeSpeed === \"fast\") {\n            text = \"FAST\"\n            color = {color: \"cornflowerblue\"}\n        }\n\n        else if (relativeSpeed === \"pro\") {\n            text = \"pro\"\n            color = {color: \"purple\"}\n        }\n\n        return (\n            <h2 style={color}>{text}</h2>\n        )\n    }\n\n    function startGame() {\n        setIsTimeRunning(true)\n        setTimeRemaining(startingTime)\n        //refreshing the input box, which updates according to text stored as state\n        setText(\"\")\n        setWordCount(0)\n        setWordsPerMinute(0)\n        setRelativeSpeed(\"\")\n\n        //to focus on textarea upon START btn click\n        textBoxRef.current.disabled = false\n        textBoxRef.current.focus()\n    }\n\n    function endGame() {\n        const newWordCount = calculateWordCount(text)\n        const newTypingSpeed = calculateTypingSpeed(newWordCount, startingTime)\n\n        //store newly recorded metrics into their respective states\n        setWordCount(newWordCount)\n        setWordsPerMinute(newTypingSpeed)\n        setRelativeSpeed(calculateRelativeSpeed(newTypingSpeed))\n\n        //ensuring that game pauses and typing textarea is disabled\n        setIsTimeRunning(false)\n    }\n\n    //useEffect to run first when component updates,\n    //and when ([timeRemaining, isTimeRunning]) states change\n    useEffect(() => {\n        //if start state value equals true (aka start button is clicked) && time > 0 (i.e. count still running)\n        if (isTimeRunning && timeRemaining > 0) {\n            //setTimeout to run every 1000ms (1s)\n            setTimeout(() => {\n                setTimeRemaining(time => time - 1)\n            }, 1000)\n        }\n        //when count reaches 0, set the isTimeRunning variable back to false\n        //and store to state the calculated metrics\n        else if (timeRemaining === 0) {\n            endGame()\n        }\n\n    }, [timeRemaining, isTimeRunning])\n\n    //function (ie. custom useTypingGame hook) to return object {} instead of array []\n    // in order to reduce error of altering/misusing the exported state and methods\n    return {\n        textBoxRef,\n        handleChange,\n        text,\n        isTimeRunning,\n        timeRemaining,\n        startGame,\n        wordsPerMinute,\n        wordCount,\n        colorify,\n        relativeSpeed\n    }\n\n}\n\nexport default useTypingGame\n","import React from \"react\"\nimport useTypingGame from \"./hooks/useTypingGame\"\n\nfunction App() {\n\n    //invoking custom hook (separated to isolate business logic from App)\n    const {\n        textBoxRef,\n        handleChange,\n        text,\n        isTimeRunning,\n        timeRemaining,\n        startGame,\n        wordsPerMinute,\n        wordCount,\n        colorify,\n        relativeSpeed\n    } = useTypingGame()\n\n    //NB. useTypingGame ^ to be passed in startingTime as arg\n    //if not, startingTime default value of 15s passed in\n\n    return (\n        <>\n            <h1>Speed Typer</h1>\n            <textarea\n                ref={textBoxRef}\n                onChange={handleChange}\n                value={text}\n                disabled={!isTimeRunning}\n            />\n            <h4>Time Remaining: {timeRemaining}</h4>\n            <button\n                onClick={startGame}\n                disabled={isTimeRunning}>START</button>\n            <h1>Speed: {wordsPerMinute} wpm</h1>\n            <p5>Word Count: {wordCount}</p5>\n            {colorify(relativeSpeed)}\n        </>\n    )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\n\nimport App from './App'\n\nReactDOM.render(<App/>, document.getElementById(\"root\"))\n\n"],"sourceRoot":""}